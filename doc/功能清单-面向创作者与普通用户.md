# NebulaDL 功能清单（创作者 + 普通用户）

本文用于规划 NebulaDL 的可售版本功能边界（Free vs Pro），并按优先级（P0/P1/P2）拆解。

## 目标用户

- 创作者：需要批量拉素材、长期归档、字幕/元数据、稳定可靠的队列与自动化。
- 普通用户：需要“粘贴即下”、清晰的质量选择、简单可靠、失败可恢复。

## 版本原则

- Free：满足单链接下载的“基本闭环”，让用户确认软件可用且好用。
- Pro：卖“省时间 + 自动化 + 规模化 + 稳定性”，而不是只卖分辨率/并发。
- 体验优先：任何“付费墙”必须对应真实可用的后端能力，避免 UI 占位。

## Free（基础版）

### P0 必须有（最小可用闭环）

- 单链接解析：标题/封面/时长/作者/平台识别；列出可下载格式。
- 单任务下载：开始/取消；显示进度、速度、剩余时间、保存路径。
- 基础设置：默认下载目录、代理（HTTP）、基础 cookies.txt 导入（至少手动指定）。
- 错误信息可读：明确提示常见失败原因（网络、地域限制、需要登录、被限流等）。

### P1 重要增强（提升留存）

- 下载历史：可搜索、可“一键重下”、可打开文件位置。
- 队列能力（基础）：多个任务排队顺序下载；失败自动重试（可配置次数）。
- 站点级 Cookie 管理：按域名/平台映射 cookies.txt，并提示过期/缺失。

### P2 可选

- 基础预设（Preset Lite）：分辨率上限/容器格式/命名模板的快速选择。
- 基础字幕下载（如有）：SRT/VTT 保存为独立文件。

## Pro（付费版）

### P0 必须有（支撑付费的核心能力）

- 播放列表/频道下载：
  - 支持 playlist/channel URL 一键展开；可筛选/限制数量/范围。
  - 增量下载：跳过已下载（download archive），避免重复。
- 队列专业化：
  - 队列持久化（重启不丢）。
  - 任务可暂停/继续（可控停止 + 续下策略）。
  - 失败策略：指数退避/自动重试/错误分类（需要登录、被限流、资源失效）。
- 引擎更新器：
  - 应用内检查并一键更新 yt-dlp/ffmpeg（含回滚）。
  - 版本信息与变更提示。
- 预设/配置档（Profiles）：
  - 命名模板（title/uploader/date/id 等）、目录规则、输出容器、质量策略。
  - “一键模式”：选一个 Profile，粘贴链接直接下载。

### P1 强付费点（创作者高频使用）

- 订阅/同步（Channel Sync）：
  - 订阅频道/播放列表；定时检查新内容并自动下载。
  - 可设置仅下载新内容、保留最近 N 条、自动归档目录结构。
- 字幕与元数据完整链路：
  - 自动下载多语言字幕、自动嵌入（MKV/MP4）或旁路保存。
  - 写入元数据（标题/作者/发布日期/封面/章节）。
- 片段下载（Clip & Save）：
  - 按时间段下载（start/end）或按章节选择，省带宽省存储。
- 并发与加速（性能增益）：
  - 更高并发任务数。
  - 分片并发下载（concurrent fragment downloads）。

### P2 进阶（差异化，但非首要）

- 内置登录工作流（Login Vault）：
  - 受控的登录态管理（更少用户操作、更低 Cookie 泄露风险）。
- 团队/工作室体验：
  - Profile 导入导出。
  - 多机授权/设备管理。
- 轻量“素材管理”能力：
  - 按项目/频道组织、标签、自动生成清单（CSV/JSON）。

## 交付与非功能要求（两端用户都敏感）

- 稳定性：崩溃恢复、下载任务恢复、日志导出（便于支持）。
- 易用性：默认值合理；对“需要登录/需要 cookie”的站点给出明确引导。
- 可维护性：站点规则变化快，必须有更新通路与版本回滚。
- 合规与风险提示：在 UI/文档中明确“仅下载拥有权利的内容，遵守平台 ToS”。

## 与当前实现的对照（便于落地排期）

- 已有：单链接解析/下载、按域名 Cookie 映射、代理、基础队列 UI。
- 已有 Pro 门控：4K+、批量下载、并发线程（`core/api.py`）。
- 缺失但 UI 宣传过：AI 总结、频道镜像、每日次数限制（需尽快实现或移除/标注 Coming Soon）。
